LINK 800
LINK 800
LINK 800
COPY 806 X
MARK REPLOOP
REPL ENTER_ATM
SUBI X 1 X
TEST X = 800
FJMP REPLOOP

MARK ENTER_ATM
LINK X

MARK DISPENSE_FAST
; 28 IS FASTEST
TEST #CASH > 28
FJMP DISPENSE_SLOW
@REP 28
COPY 20 #DISP
@END
JUMP DISPENSE_FAST

MARK DISPENSE_SLOW
COPY 20 #DISP
TEST #CASH = 0
FJMP DISPENSE_SLOW